/* 主题与字体 */
:root{
  --header-h: 64px;
  --bg: #f6f8fc;
  --panel: #ffffff;
  --border: #e5eaf4;
  --muted: #6b7280;
  --text: #0b1220;
  --brand: #7c3aed; /* 高级紫，和青绿画布形成对比 */
}

html, body, #root { height: 100%; background: var(--bg); color: var(--text); }
body {
  font-family: 'Futura','STFangsong','PingFang SC','Microsoft YaHei',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

/* 顶部导航 AppShell */
.app-shell { min-height: 100vh; display: flex; flex-direction: column; }
.app-header {
  position: sticky; top: 0; z-index: 40; height: var(--header-h);
  backdrop-filter: saturate(1.1) blur(8px);
  background: color-mix(in srgb, white 80%, transparent);
  border-bottom: 1px solid var(--border);
}
.container { max-width: 1280px; margin: 0 auto; padding: 0 16px; }
.header-inner { height: 100%; display: flex; align-items: center; justify-content: space-between; gap: 16px; }

/* 品牌区（Logo+文字） */
.brand { display: flex; align-items: center; gap: 12px; }
.logo {
  width: 28px; height: 28px; border-radius: 8px;
  background: linear-gradient(145deg, var(--brand), #9f67ff);
  box-shadow: 0 8px 24px rgba(124,58,237,.25), inset 0 2px 6px rgba(255,255,255,.35);
}
.brand-text { line-height: 1; }
.brand-title { font-weight: 800; letter-spacing: .2px; }
.brand-sub { font-size: 12px; color: var(--muted); margin-top: 4px; }

/* 顶部导航链接与主按钮 */
.nav { display: flex; align-items: center; gap: 14px; }
.nav-item {
  font-weight: 600; color: #334155; text-decoration: none;
  padding: 8px 10px; border-radius: 10px; transition: background .15s ease, color .15s ease;
}
.nav-item:hover { background: #eef2ff; color: #1e293b; }
.nav-cta { background: linear-gradient(180deg,#ffffff,#f3f7ff); }

/* 主体区域：减去导航高度 */
.app-main { flex: 1 1 auto; min-height: 0; }
.page-main { height: calc(100vh - var(--header-h)); display: flex; }
.split-host { flex: 1 1 auto; min-height: 0; display: flex; }

/* 你现有的网格/面板规则保持：确保可收缩与铺满 */
.app-root, .split-pane, .panel { min-height: 0; }
.panel { display: flex; flex-direction: column; background: var(--panel); }
.panel--right .canvas-root { position: relative; flex: 1 1 auto; min-height: 0; height: 100%; }

/* 画布工具条（右上角玻璃条） */
.canvas-toolbar {
  position: absolute; right: 16px; top: 12px; z-index: 6;
  display: flex; gap: 8px; align-items: center;
  padding: 8px 10px; border-radius: 12px;
  backdrop-filter: saturate(1.1) blur(6px);
  background: color-mix(in srgb, white 82%, transparent);
  border: 1px solid var(--border);
  box-shadow: 0 6px 24px rgba(15,23,42,.06);
}
.chip { border-radius: 999px; padding: 6px 12px; font-weight: 700; font-size: 12px; }
.step-chip { background: #111827; color: #fff; }

/* 通用按钮/选择器（页面统一气质） */
.btn{
  background: linear-gradient(180deg,#ffffff,#f3f7ff);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 6px 12px;
  cursor: pointer;
  font-weight: 700;
  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}
.btn:hover{ filter: brightness(1.02); box-shadow: 0 4px 14px rgba(15,23,42,.06); transform: translateY(-1px); }
.btn:active{ transform: translateY(0) scale(.99); }

.select {
  border: 1px solid var(--border);
  background: #fff;
  border-radius: 10px;
  padding: 6px 10px;
  font-weight: 700;
}

.konvajs-content canvas { background: transparent !important; }
